<script src="https://www.gstatic.com/charts/loader.js"></script>

<script>
  google.charts.load("current", { packages: ["corechart", "bar"] });
  google.charts.setOnLoadCallback(drawStacked);

  function drawStacked() {
    var array = `<%- JSON.stringify(gBarData) %>`;

    var data = google.visualization.arrayToDataTable(JSON.parse(array));

    var options = {
      title: "",
      height: 350,
      chartArea: {
        width: "80%",
      },
      isStacked: "percent",
      hAxis: {
        title: "",
        minValue: 0,
        ticks: [],
      },
      vAxis: {
        title: "",
      },
      animation: {
        startup: true,
        duration: 600,
      },
    };

    var chart = new google.visualization.BarChart(
      document.getElementById("barchart-single-budget")
    );
    chart.draw(data, options);
  }
</script>
